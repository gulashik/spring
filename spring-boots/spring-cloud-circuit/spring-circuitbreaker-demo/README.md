# Spring Cloud Circuit Breaker - –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ **Spring Cloud Circuit Breaker** —Å **Resilience4j** –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.

## üéØ –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ Circuit Breaker –≤ Spring Boot –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏ –∏ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è–º–∏.

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç —Ç—Ä–∏ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–∞, –∑–∞—â–∏—â–µ–Ω–Ω—ã—Ö Circuit Breaker:

1. **ExternalApiService** - —Ä–∞–±–æ—Ç–∞ —Å –≤–Ω–µ—à–Ω–∏–º–∏ REST API
2. **DatabaseService** - –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
3. **EmailService** - –æ—Ç–ø—Ä–∞–≤–∫–∞ email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Java 17+
- Maven 3.8+

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞**
   ```bash
   git clone <repository-url>
   cd spring-circuit-breaker-demo


mvn clean install


mvn spring-boot:run


java -jar target/spring-circuit-breaker-demo-1.0.0.jar



–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø—É—Å–∫–∞
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:8080
–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏: http://localhost:8080/api/info

# –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ—Å—Ç–∞ (—Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ jsonplaceholder.typicode.com)
GET http://localhost:8080/api/external/posts/1

# –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–æ—Å—Ç–æ–≤
GET http://localhost:8080/api/external/posts


# –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
GET http://localhost:8080/api/users/1

# –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
GET http://localhost:8080/api/users

# –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
POST http://localhost:8080/api/users
Content-Type: application/json

{
"name": "–¢–µ—Å—Ç –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å",
"email": "test@example.com",
"additionalInfo": "–¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ"
}


# –û—Ç–ø—Ä–∞–≤–∫–∞ email
POST http://localhost:8080/api/email/send
Content-Type: application/json

{
"to": "recipient@example.com",
"from": "sender@example.com",
"subject": "–¢–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ",
"body": "–≠—Ç–æ —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ Circuit Breaker"
}

# Health check (–≤–∫–ª—é—á–∞—è Circuit Breakers)
GET http://localhost:8080/actuator/health

# –°–æ—Å—Ç–æ—è–Ω–∏–µ Circuit Breakers
GET http://localhost:8080/actuator/circuitbreakers

# –ú–µ—Ç—Ä–∏–∫–∏ Prometheus
GET http://localhost:8080/actuator/prometheus

# –í—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ endpoints
GET http://localhost:8080/actuator

GET http://localhost:8080/api/health/services


–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –º–µ—Ç—Ä–∏–∫–∏
–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤—ã–≤–æ–¥–∏—Ç –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏ —Ä–∞–±–æ—Ç—ã Circuit Breaker:

–ò–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è (CLOSED ‚Üí OPEN ‚Üí HALF_OPEN)
–£—Å–ø–µ—à–Ω—ã–µ –∏ –Ω–µ—É–¥–∞—á–Ω—ã–µ –≤—ã–∑–æ–≤—ã
–°—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è fallback –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤

–ú–µ—Ç—Ä–∏–∫–∏
–î–æ—Å—Ç—É–ø–Ω—ã –º–µ—Ç—Ä–∏–∫–∏ Prometheus –¥–ª—è:

–°–æ—Å—Ç–æ—è–Ω–∏—è Circuit Breaker
–ö–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≤—ã–∑–æ–≤–æ–≤
–í—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
–ß–∞—Å—Ç–æ—Ç—ã –æ—à–∏–±–æ–∫

üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
–í–∞–∂–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

Timeout'—ã: Circuit Breaker timeout –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –±–æ–ª—å—à–µ HTTP timeout
–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–ª–µ—Ä—Ç—ã –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è
Fallback: –†–µ–∞–ª–∏–∑—É–π—Ç–µ meaningful fallback –¥–∞–Ω–Ω—ã–µ
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: –†–µ–≥—É–ª—è—Ä–Ω–æ —Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ fallback —Å—Ü–µ–Ω–∞—Ä–∏–∏


–û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã
–ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏

–°–æ—Å—Ç–æ—è–Ω–∏—è Circuit Breaker: CLOSED, OPEN, HALF_OPEN
Fallback —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏: graceful degradation
–ú–µ—Ç—Ä–∏–∫–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥: –≤–∞–∂–Ω–æ—Å—Ç—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è
–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

–¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏

–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ timeout'—ã - –º–æ–≥—É—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ª–æ–∂–Ω—ã–º —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è–º
–ü–ª–æ—Ö–∏–µ fallback'–∏ - null –∏–ª–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –≤–º–µ—Å—Ç–æ —Ä–∞–∑—É–º–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
–ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ - –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ø—Ä–æ–±–ª–µ–º
–û–¥–∏–Ω —Ä–∞–∑–º–µ—Ä –¥–ª—è –≤—Å–µ—Ö - —Ä–∞–∑–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã —Ç—Ä–µ–±—É—é—Ç —Ä–∞–∑–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫




